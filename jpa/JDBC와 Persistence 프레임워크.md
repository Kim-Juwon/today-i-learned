# JDBC와 Persistence 프레임워크
JPA를 공부하면서, 군 입대 전 공부했었던 JDBC와 MyBatis와 함께 개념을 한번 정리해봐야겠다는 생각이 들었다.


## JDBC
- JDBC는 모든 자바 db 접근 기술의 근간이다.
	- 즉, 자바 애플리케이션에서 db와 연동하는 모든 프레임워크는 JDBC를 이용하여 만들어졌다.
- JDBC API는 db 벤더별로 개발한 Driver를 통해 구현되어야 하는 인터페이스이다.
	- 예시
		- MySQL Driver, Oracle Driver, MSSQL Driver ...
	- 따라서 특정 DBMS에 종속되지 않기 때문에 사용하려는 db에 따라 쉽게 변경 가능하다.
- JDBC만으로 db와 연동하는 애플리케이션을 만들수는 있지만... 개발자가 해주어야할 작업이 너무 많아지게 된다.
	- db와 connection을 맺어주기 위한 작업, 객체의 데이터를 sql과 매핑해주는 작업 등.
	- 그래서 요즘은 JDBC만 쓰는 서비스는 거의 없다고 보면 되고, JDBC를 기반으로 하는 persistence 프레임워크를 많이 사용한다.
		- persistence 프레임워크의 종류로는 SQL Mapper, ORM(Object Relational Mapping)이 있다.

## Persistence Framework
- persistence란 영속성(지속성)을 뜻한다. 
	- 데이터가 일시적이지 않고 영구히 저장된다는 의미.
- 메모리에 올라가있는 데이터는 휘발성이기 때문에 컴퓨터가 종료되면 데이터가 모두 사라진다.
	- 그러나 데이터베이스, 파일 시스템 등은 데이터가 저장되면 컴퓨터가 종료되어도 사라지지 않는다.
- persistence 프레임워크는 애플리케이션 객체의 데이터에 영속성을 부여하는 역할을 한다.
	- 쉽게 생각하면 db에 데이터를 손쉽게 넣어주는 프레임워크이다.
- 크게 SQL Mapper, ORM 으로 나뉜다.

### SQL Mapper
- 애플리케이션의 **객체와 SQL을 매핑**해주는 기술이다.
- 대표적으로 MyBatis가 있다.

#### 장점 (JDBC보다 좋은 점)
- 만약 JDBC만 사용한다면 개발자는 db 커넥션 연결 작업, SQL 매핑 작업등 해주어야할 작업들이 굉장히 많다.
- 하지만 SQL Mapper는 이러한 작업들을 전부 대신해주고, 개발자는 SQL 작성에만 집중할 수 있다.
	- SQL Mapper에 db 커넥션에 관한 설정을 넣어주고, SQL에 바인딩 될 파라미터만 기술해주면 개발자는 SQL 작성만 하면 되기 때문에 생산성이 높아진다.
- 대표적으로 MyBatis에서는 어노테이션 방식 또는 xml 방식을 사용한다.

#### 한계
- 개발자가 직접 SQL문을 작성하기 떄문에 특정 db에 종속적이다.
- jdbc와 다르지 않게 sql문에 종속적인 개발을 탈피할 수 없다.
	- api에 대한 요구사항(변경사항)이 발생하였을 때 sql문에 대한 확인과 수정이 이루어질 가능성이 매우 높아진다.
	- 만약 요구사항이 굉장히 많고 작성한 SQL도 굉장히 많다고 가정하면 상당한 노가다가 이루어질 것이다.
- 애플리케이션 객체와 db 테이블의 패러다임 불일치 문제를 개발자가 전부 해결해주어야 한다.
	- [패러다임 불일치 문제란](https://blog.naver.com/damiano102777/222782356774)

### ORM (Object Relational Mapping)
- 애플리케이션의 **객체와 db 테이블**을 매핑해주는 기술이다.
- 대표적으로 JPA, Hibernate가 있다.
	- 정확히 말하면 JPA는 자바 진영의 ORM 표준이다. 
		- 즉, 여러개의 ORM 프레임워크들이 있고 그에 대한 표준(인터페이스)이 JPA이다.
		- 대표적인 ORM 프레임워크로 Hibernate가 있는 것이다.
	- Hiberate는 ORM 세계에서 가장 널리 쓰이고 있고, 성능과 정확성이 검증된 프레임워크이기 때문에 가장 인기가 많다. 

#### 장점 (JDBC, MyBatis보다 좋은 점)
- MyBatis에서도 탈피하지 못했던, **객체와 db 테이블의 패러다임 불일치 문제**를 해결해준다.
- SQL 마저 개발자가 작성하지 않아도 된다.
	- 애플리케이션과 db 사이에 **영속성 컨텍스트**라는 가상의 공간이 존재하여, 특정 설정을 해준 객체가 영속성 컨텍스트에 저장되면 이에 대한 새로운 내용, 변경 사항 등을 프레임워크가 추적하여 sql을 자동 생성하여 db에 전달해준다.
- 개발 시 객체지향의 장점을 극대화 시켜준다.
	- Spring Framework와 결합되어 사용 되면 더더욱.

	
내용 보충 필요 